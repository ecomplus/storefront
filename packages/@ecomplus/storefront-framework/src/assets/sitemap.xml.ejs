<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <%
  routes.forEach(({ path, resource, collection }) => {
    const priority = path === '/index' ? 1
      : resource === 'products' ? 0.9
        : resource ? 0.8
          : collection ? 0.7
            : path.startsWith('/app/') || path.startsWith('/admin/') ? 0.6
              : 0.8
    const changefreq = priority === 1 ? 'daily'
      : priority > 0.7 ? 'weekly'
        : 'monthly'
    %>
    <url>
      <loc><%= `https://${domain}${(path !== '/index' ? path : '/')}` %></loc>
      <changefreq><%= changefreq %></changefreq>
      <priority><%= priority %></priority>
    </url>
  <% }) %>
</urlset>
